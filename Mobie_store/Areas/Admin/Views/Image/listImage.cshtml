@model IEnumerable<Mobie_store.ViewService.image>
@using Mobie_store.ViewService
@{
    ViewBag.Title = "listImage";
    Layout = "~/Areas/Admin/Views/Shared/Layout/_Dashboard.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header card-header-icon" data-background-color="purple">
                <i class="material-icons">assignment</i>
            </div>
            <div class="card-content">
                <h4 class="card-title">Image DataTables</h4>
                <div class="toolbar">
                    <!--        Here you can write extra buttons/actions for the toolbar              -->
                </div>
                <div class="material-datatables">
                    <table id="imageTable" class="table table-striped table-no-bordered table-hover datatables" cellspacing="0"  style="width:100%">
                        <thead>
                            <tr>
                                <th>Stt</th>
                                <th>Product</th>
                                <th>Image</th>
                                <th class="disabled-sorting text-right">Actions</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>#</th>
                                <th>Product</th>
                                <th>Image</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            @{
                                var count = 0;
                                var db = new ViewServiceClient().Get_product(0);
                                foreach (var img in Model)
                                {
                                    //var _name = db.products.FirstOrDefault(m => m.id == img.product_id).sku;
                                    var obj = db.FirstOrDefault(m => m.id == img.product_id);
                                    if (obj != null)
                                    {
                                        var _name = obj.name;
                                        <tr class="row_@img.id">
                                            <td>@(++count)</td>
                                            <td>@_name</td>
                                            <td><img src="@img.url" id="img_thumb" style="width: 100px; height: auto;"></td>
                                            <td class="text-right">
                                                <a href="#" class="btn btn-simple btn-info btn-icon delete_image_product" data-id="@img.id"><i class="material-icons">clear</i></a>
                                            </td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- end content-->
        </div>
        <!--  end card  -->
    </div>
    <!-- end col-md-12 -->
</div>

